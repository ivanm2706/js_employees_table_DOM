{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","tbody","buttonClick","form","createElement","sortPerson","e","target","closest","sortTable","textContent","addActiveClass","el","tHeadElem","theadArray","index","children","findIndex","td","container","sort","a","b","aSort","bSort","cSort","replace","localeCompare","forEach","person","append","addClass","elem","className","includes","removeAttribute","addPersonInTable","preventDefault","matches","tr","currentTarget","item","position","office","age","salary","firstElementChild","value","innerHTML","toLocaleString","after","addEventListener"],"mappings":"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","file":"main.a066cfe9.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst table = document.querySelector('table');\r\nconst tbody = table.querySelector('tbody');\r\nlet buttonClick = null;\r\n\r\nconst form = document.createElement('form');\r\n\r\nform.className = 'new-employee-form';\r\n\r\nform.innerHTML = `\r\n  <label>Name: \r\n    <input required name=\"name\" type=\"text\" data-qa=\"name\">\r\n  </label>\r\n  <label>Position: \r\n    <input required name=\"position\" type=\"text\" data-qa=\"position\">\r\n  </label>\r\n  <label>Office: \r\n    <select required data-qa=\"office\">\r\n      <option> Tokyo </option>\r\n      <option> Singapore </option>\r\n      <option> London </option>\r\n      <option> New York </option>\r\n      <option> Edinburgh </option>\r\n      <option> San Francisco </option>\r\n    </select>\r\n  </label>\r\n  <label>Age: \r\n    <input required name=\"age\" type=\"number\" data-qa=\"age\">\r\n  </label>\r\n  <label>Salary: \r\n    <input required name=\"salary\" type=\"number\" data-qa=\"salary\">\r\n  </label>\r\n\r\n  <button type='submit' class='js-button'>Save to table</button>\r\n  `;\r\ntable.after(form);\r\n\r\ntable.addEventListener('click', sortPerson);\r\nform.addEventListener('click', addPersonInTable);\r\n\r\nfunction sortPerson(e) {\r\n  if (e.target.closest('thead')) {\r\n    sortTable(e, e.target);\r\n    buttonClick = e.target.textContent;\r\n  }\r\n\r\n  if (e.target.closest('tbody')) {\r\n    addActiveClass(e.target);\r\n  }\r\n}\r\n\r\nfunction sortTable(el, tHeadElem) {\r\n  const theadArray = [...tHeadElem.closest('tr').children];\r\n  const index = theadArray.findIndex(td => {\r\n    return td.textContent === tHeadElem.textContent;\r\n  });\r\n\r\n  const container = [...tbody.children];\r\n\r\n  container.sort((a, b) => {\r\n    let aSort = a.children[index].textContent;\r\n    let bSort = b.children[index].textContent;\r\n    const cSort = aSort;\r\n\r\n    if (buttonClick === tHeadElem.textContent) {\r\n      aSort = bSort;\r\n      bSort = cSort;\r\n    }\r\n\r\n    if (index > 2) {\r\n      aSort = +aSort.replace(',', '').replace('$', '');\r\n      bSort = +bSort.replace(',', '').replace('$', '');\r\n\r\n      return aSort - bSort;\r\n    }\r\n\r\n    return aSort.localeCompare(bSort);\r\n  });\r\n\r\n  container.forEach(person => tbody.append(person));\r\n}\r\n\r\nfunction addActiveClass(addClass) {\r\n  [...tbody.children].forEach(elem => {\r\n    if (elem.className.includes('active')) {\r\n      elem.removeAttribute('class');\r\n    }\r\n  });\r\n\r\n  addClass.closest('tr').className = 'active';\r\n}\r\n\r\nfunction addPersonInTable(elem) {\r\n  elem.preventDefault();\r\n\r\n  if (!elem.target.matches('.js-button')) {\r\n    return;\r\n  }\r\n\r\n  const tr = document.createElement('tr');\r\n  const [item, position, office, age, salary] = elem.currentTarget.children;\r\n\r\n  if (\r\n    !item.firstElementChild.value\r\n    || !position.firstElementChild.value\r\n    || !age.firstElementChild.value\r\n    || !salary.firstElementChild.value\r\n  ) {\r\n    return;\r\n  }\r\n\r\n  tr.innerHTML = `\r\n    <td>${item.firstElementChild.value}</td>\r\n    <td>${position.firstElementChild.value}</td>\r\n    <td>${office.firstElementChild.value}</td>\r\n    <td>${age.firstElementChild.value}</td>\r\n    <td>$${(+salary.firstElementChild.value).toLocaleString('en-US')}</td>\r\n  `;\r\n\r\n  tbody.append(tr);\r\n}\r\n"]}